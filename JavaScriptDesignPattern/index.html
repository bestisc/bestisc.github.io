<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Design Pattern</title>
	<link rel="stylesheet" href="" />
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js" type="text/javascript" charset="utf-8" async defer></script>
</head>
<body>
	<!-- 
		鸭子类型
		this  apply call 
		闭包
		高阶函数  
	-->	
	<!--
	<div id="div1">this的指向</div>
	<hr/>

	<div class="div2">1</div>
	<div class="div2">2</div>
	<div class="div2">3</div>
	<div class="div2">4</div>
	<div class="div2">5</div>
	<hr/>

	<button id="execute">点击我执行命令</button>        
	<button id="undo">点击我执行命令</button>
	<hr/>

	<div id="div3">100个</div>
	<script src="design_pattern.js" type="text/javascript" charset="utf-8" ></script>
	-->


	<!-- 单例模式 -->
	<!--
	<button type="" id="loginBtn">登录</button>
	<script src="design_pattern1.js" type="text/javascript" charset="utf-8" ></script>
	-->	

	<!-- 策略模式 -->
	<!--
	<div style="position:absolute;background:blue" id="div">我是div</div>
	<form action="http:// xxx.com/register" id="registerForm" method="post">            
		请输入用户名：<input type="text" name="userName"/ >            
		请输入密码：<input type="text" name="password"/ >            
		请输入手机号码：<input type="text" name="phoneNumber"/ >            
		<button>提交</button>        
	</form>    
	<script>        
		var registerForm = document.getElementById( 'registerForm' );        
		registerForm.onsubmit = function(){            
			if ( registerForm.userName.value === '' ){                
				alert ( '用户名不能为空' );                
				return false;            
			}            
			if ( registerForm.password.value.length < 6 ){                
				alert ( '密码长度不能少于6位' );                
				return false;            
			}            
			if ( !/(^1[3|5|8][0-9]{9}$)/.test( registerForm.phoneNumber.value ) ){                
				alert ( '手机号码格式不正确' );                
				return false;            
			}        
		}     
</script>
	<script src="design_pattern2.js" type="text/javascript" charset="utf-8" ></script>
	-->

	<!-- 代理模式 -->
	<!--
	<script src="design_pattern3.js" type="text/javascript" charset="utf-8" ></script>
	-->

	<!-- 迭代器模式 -->
	<!--
	<script src="design_pattern4.js" type="text/javascript" charset="utf-8" ></script>
	-->

	<!-- 发布-订阅模式 （观察者模式） -->
	<!--
	<button id="count">点我</button>    
	<div id="show"></div>
	<script type="text/JavaScript">
	var Event = (function(){
		var clientList = {};
		var listen;
		var trigger;
		var remove;

		listen = function(key,fn){
			if(!clientList[key]){
				clientList[key] = [];
			}
			clientList[key].push(fn);
		};

		trigger = function(){
			var key = Array.prototype.shift.call(arguments);
			var fns = clientList [key];
			if(!fns || fns.length === 0){
				return false;
			}
			for(var i=0,fn;fn=fns[i++];){
				fn.apply(this,arguments);
			}
		};

		remove = function(key,fn){
			var fns = clientList[key];
			if( !fns ){
				return false;
			}
			if( !fn ){
				fns && (fns.length = 0);
			}else{
				for(var le = fns.length -1; le >= 0 ;le--){
					var _fn = fns[le];
					if(_fn === fn){
						fns.splice(le,1);
					}
				}
			}
		};

		return {
			listen : listen,
			trigger : trigger,
			remove : remove
		}
	})();


	var a = (function(){    
		var count = 0;    
		var button = document.getElementById( 'count' );    
		button.onclick = function(){        
			Event.trigger( 'add', count++);    
		}
	})();
	var b = (function(){    
		var div = document.getElementById( 'show' );    
		Event.listen( 'add', function( count ){       
 			div.innerHTML = count;    
 		});
	})();
</script>
	<script src="design_pattern5.js" type="text/javascript" charset="utf-8" ></script>
	-->
</body>
</html>